# =====================================================================
# ESTRUTURA PADRONIZADA CSP-BLFGA - OTIMIZAÇÃO (v1.3)
# =====================================================================

batch_info:
  nome: "Otimização Unificada"
  descricao: "Otimização de hiperparâmetros dos algoritmos"
  autor: "Diego Grosmann"
  versao: "1.3"
  timeout_global: 7200

# ---------------------------------------------------------------------
# DATASETS (bases) — referenciados por id
# ---------------------------------------------------------------------
datasets:
  - id: dna_otimizacao
    nome: "DNA para Otimização"
    tipo: "synthetic"
    parametros:
      n: 5
      L: 10
      alphabet: "ACGT"
      noise: 0.1
      fully_random: false
      seed: 42

  - id: proteina_otimizacao
    nome: "Proteína para Otimização"
    tipo: "synthetic"
    parametros:
      n: 5
      L: 8
      alphabet: "ACDEFGHIKLMNPQRSTVWY"
      noise: 0.4
      fully_random: false
      seed: 42

# ---------------------------------------------------------------------
# TAREFA — OPTIMIZATION
# ---------------------------------------------------------------------
task:
  type: "optimization"

  optimization:
    studies:
      - nome: "Opt-BLF-GA DNA"
        datasets: [dna_otimizacao]
        n_trials: 5
        timeout_per_trial: 60
        direction: "minimize"
        sampler: "TPE"
        pruner: "Median"
        save_study: true
#        storage: "sqlite:///outputs/optuna_blfga_dna.db"
        study_name: null
        param_space:
          "BLF-GA":
            pop_size:      ["loguniform", 50, 400]
 #           max_gens:      ["int", 100, 500]
 #           cross_prob:    ["uniform", 0.6, 0.95]
 #           mut_prob:      ["uniform", 0.01, 0.2]
 #           elite_rate:    ["uniform", 0.01, 0.1]
      
 #     - nome: "Opt-CSC DNA"
 #       datasets: [dna_otimizacao]
 #       n_trials: 30
 #       timeout_per_trial: 45
 #       direction: "minimize"
 #       sampler: "Random"
 #       pruner: "Median"
 #       save_study: true
 #       storage: "sqlite:///outputs/optuna_csc_dna.db"
 #       study_name: null
 #       param_space:
 #         "CSC":
 #           max_iter:        ["int", 500, 2000]
 #           patience:        ["int", 20, 150]
 #           min_improvement: ["loguniform", 1e-4, 1e-2]
      
 #     - nome: "Opt-BLF-GA Proteína"
 #       datasets: [proteina_otimizacao]
 #       n_trials: 40
 #       timeout_per_trial: 75
 #       direction: "minimize"
 #       sampler: "TPE"
 #       pruner: "Median"
 #       save_study: true
 #       storage: "sqlite:///outputs/optuna_blfga_proteina.db"
 #       study_name: null
 #       param_space:
 #         "BLF-GA":
 #           pop_size:      ["loguniform", 30, 300]
 #           max_gens:      ["int", 80, 400]
 #           cross_prob:    ["uniform", 0.65, 0.9]
 #           mut_prob:      ["uniform", 0.005, 0.15]
 #           elite_rate:    ["uniform", 0.02, 0.08]

# ---------------------------------------------------------------------
# ALGORITMOS E PARÂMETROS FIXOS
# ---------------------------------------------------------------------
algorithms: ["BLF-GA", "CSC"]

algorithm_params:
  "BLF-GA":
    tournament_k: 3
  "CSC":
    max_iter: 1000

# ---------------------------------------------------------------------
# SAÍDA
# ---------------------------------------------------------------------
output:
  save_results: true
  save_detailed_results: true
  save_plots: true
  plot_format: "png"
  results_dir: "outputs/batch_otimizacao"

# ---------------------------------------------------------------------
# OPÇÕES GLOBAIS
# ---------------------------------------------------------------------
advanced:
  use_curses: false  # Desabilitar curses para otimização
  parallel:
    n_jobs: -1
  log_level: "INFO"