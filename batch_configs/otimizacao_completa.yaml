# Configuração Completa de Otimização em Lote
# Este arquivo demonstra todas as opções disponíveis para otimização de hiperparâmetros

batch_info:
  nome: "Otimização Completa - Múltiplos Algoritmos e Datasets"
  descricao: "Testa diferentes tipos de datasets (sintético, arquivo, NCBI) em vários algoritmos"
  autor: "CSP-BLFGA Team"
  versao: "1.0"
  timeout_global: 7200  # 2 horas total

# Configurações de otimização
optimization_config:
  n_trials: 30           # Trials por algoritmo por dataset
  timeout_per_trial: 120 # Timeout por trial em segundos (2 minutos)
  direction: "minimize"  # minimize ou maximize
  sampler: "TPE"        # TPE, CmaEs, Random, GridSearch
  pruner: "Median"      # Median, SuccessiveHalving, Hyperband, None
  save_plots: true      # Salvar gráficos de visualização
  save_study: true      # Salvar estudos completos do Optuna

# Algoritmos para otimizar
algorithms:
  - "BLF-GA"
  - "CSC"
  - "H³-CSP"
  - "DP-CSP"

# Configurações de datasets variados para testar
datasets:
  # Dataset sintético pequeno (DNA)
  - nome: "DNA Pequeno - 10 seqs"
    descricao: "Dataset sintético pequeno para testes rápidos"
    tipo: "synthetic"
    parametros:
      n: 10
      L: 50
      alphabet: "ACGT"
      noise: 0.1
      fully_random: false
      seed: 42
      
  # Dataset sintético médio (DNA)
  - nome: "DNA Médio - 20 seqs"
    descricao: "Dataset sintético médio, tamanho padrão"
    tipo: "synthetic"
    parametros:
      n: 20
      L: 100
      alphabet: "ACGT"
      noise: 0.15
      fully_random: false
      seed: 123
      
  # Dataset sintético grande (DNA)
  - nome: "DNA Grande - 50 seqs"
    descricao: "Dataset sintético grande para teste de escalabilidade"
    tipo: "synthetic"
    parametros:
      n: 50
      L: 200
      alphabet: "ACGT"
      noise: 0.2
      fully_random: false
      seed: 456
      
  # Dataset de proteínas sintético
  - nome: "Proteína Sintética"
    descricao: "Dataset sintético de proteínas com alfabeto de 20 aminoácidos"
    tipo: "synthetic"
    parametros:
      n: 15
      L: 75
      alphabet: "ACDEFGHIKLMNPQRSTVWY"
      noise: 0.25
      fully_random: false
      seed: 789
      
  # Dataset binário
  - nome: "Binário Simples"
    descricao: "Dataset binário para testes de algoritmos básicos"
    tipo: "synthetic"
    parametros:
      n: 25
      L: 150
      alphabet: "AB"
      noise: 0.05
      fully_random: false
      seed: 321
      
  # Dataset de arquivo (se existe)
  - nome: "Dataset Customizado"
    descricao: "Dataset carregado de arquivo FASTA"
    tipo: "file"
    parametros:
      file_path: "saved_datasets/dataset_custom.fasta"
      
  # Dataset do NCBI (exemplo)
  - nome: "NCBI - Sequences de teste"
    descricao: "Dataset baixado do NCBI para validação"
    tipo: "entrez"
    parametros:
      email: "test@example.com"
      db: "nucleotide"
      term: "ribosomal RNA"
      n: 10
      api_key: null  # Opcional

# Parâmetros específicos para cada algoritmo
algorithm_params:
  "BLF-GA":
    # Focar nos parâmetros mais importantes
    focus_params:
      - "pop_size"
      - "max_gens"
      - "cross_prob"
      - "mut_prob"
      - "elite_rate"
      - "tournament_k"
      - "crossover_type"
      - "mutation_type"
    # Fixar alguns parâmetros para acelerar a otimização
    fixed_params:
      niching: false
      immigrant_freq: 10
      
  "CSC":
    focus_params:
      - "max_iter"
      - "patience"
      - "min_improvement"
      - "local_search_prob"
    fixed_params:
      use_heuristic: true
      
  "H³-CSP":
    focus_params:
      - "max_iter"
      - "beam_width"
      - "depth_limit"
      - "branching_factor"
    fixed_params:
      use_pruning: true
      
  "DP-CSP":
    focus_params:
      - "max_distance"
      - "pruning_threshold"
      - "memory_limit"
    fixed_params:
      use_memoization: true

# Configurações de saída
output:
  save_detailed_results: true
  save_plots: true
  save_intermediate_results: true
  results_dir: "outputs/batch_optimization_completo"
  plot_format: "both"  # png, html, both
  compression: "gzip"  # Para arquivos grandes
  
# Configurações avançadas
advanced:
  parallel_jobs: 1          # Número de jobs paralelos (cuidado com memória)
  memory_limit: "8GB"       # Limite de memória por job
  checkpoint_interval: 10   # Salvar checkpoint a cada N trials
  resume_from_checkpoint: true  # Continuar de onde parou se interrompido
  
# Notificações (opcional)
notifications:
  enabled: false
  email: "user@example.com"
  slack_webhook: null
  on_completion: true
  on_error: true
  on_milestone: true  # A cada 25% de progresso
